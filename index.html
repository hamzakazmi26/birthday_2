<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minha's 19th Birthday Celebration</title>
  <style>
    /* Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Lora', serif;
    }
    
    body {
      color: #FFF8E7;
      overflow-x: hidden;
      background: linear-gradient(135deg, #2E1A47 0%, #5E3B7A 100%);
      position: relative;
    }
    
    /* Enchanted Garden Background */
    .garden-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://i.imgur.com/floral-glow.jpg') no-repeat center/cover;
      opacity: 0.25;
      z-index: -1;
      animation: glow 12s infinite;
    }
    
    @keyframes glow {
      0%, 100% { opacity: 0.25; }
      50% { opacity: 0.4; }
    }
    
    /* Floating Petals */
    .petal {
      position: absolute;
      width: 15px;
      height: 15px;
      background: radial-gradient(circle, #FFB1C8 20%, transparent 70%);
      border-radius: 50%;
      animation: petal-fall linear infinite;
      z-index: 1;
      opacity: 0.8;
    }
    
    @keyframes petal-fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 0.8; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    
    /* Password Screen */
    .password-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(94, 59, 122, 0.85);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      color: #FFF8E7;
      text-align: center;
      backdrop-filter: blur(10px);
    }
    
    .password-screen h1 {
      margin-bottom: 25px;
      font-size: 3rem;
      text-shadow: 0 0 12px rgba(255, 177, 200, 0.8);
      font-family: 'Dancing Script', cursive;
    }
    
    .password-screen p {
      margin-bottom: 20px;
      font-size: 1.4rem;
    }
    
    .password-screen input {
      padding: 15px 30px;
      border: 2px solid #D4A5FF;
      border-radius: 50px;
      margin: 25px 0;
      font-size: 1.2rem;
      width: 85%;
      max-width: 450px;
      text-align: center;
      background: rgba(255, 255, 255, 0.15);
      color: #FFF8E7;
      outline: none;
      transition: all 0.3s;
    }
    
    .password-screen input:focus {
      border-color: #FFB1C8;
      box-shadow: 0 0 15px rgba(255, 177, 200, 0.6);
    }
    
    .password-screen button {
      background: linear-gradient(45deg, #FFB1C8, #D4A5FF);
      color: #2E1A47;
      border: none;
      padding: 15px 50px;
      border-radius: 50px;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      box-shadow: 0 5px 20px rgba(255, 177, 200, 0.4);
    }
    
    .password-screen button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 177, 200, 0.6);
    }
    
    /* Birthday Animation Page */
    .birthday-page {
      display: none;
      position: relative;
      min-height: 100vh;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 30px;
      overflow: hidden;
    }
    
    .birthday-content {
      background: rgba(94, 59, 122, 0.35);
      padding: 50px;
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      max-width: 650px;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.25);
    }
    
    .birthday-title {
      font-size: 3.5rem;
      color: #FFF8E7;
      margin-bottom: 25px;
      text-shadow: 0 0 15px rgba(255, 177, 200, 0.8);
      font-family: 'Dancing Script', cursive;
    }
    
    .age-number {
      font-size: 6rem;
      color: #FFB1C8;
      margin: 25px 0;
      text-shadow: 0 0 20px rgba(255, 177, 200, 0.8);
      font-family: 'Lora', serif;
    }
    
    .cake-container {
      position: relative;
      margin: 40px 0;
    }
    
    .cake {
      font-size: 160px;
      cursor: pointer;
      transition: transform 0.4s;
      filter: drop-shadow(0 0 20px rgba(255, 177, 200, 0.8));
    }
    
    .cake:hover {
      transform: scale(1.15);
    }
    
    .instructions {
      margin-top: 25px;
      font-size: 1.4rem;
      color: #D4A5FF;
      font-style: italic;
      text-shadow: 0 0 8px rgba(212, 165, 255, 0.6);
    }
    
    /* Birthday Message Page */
    .message-page {
      display: none;
      position: relative;
      min-height: 100vh;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 30px;
      overflow: hidden;
    }
    
    .message-card {
      background: rgba(212, 165, 255, 0.25);
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      padding: 50px;
      max-width: 650px;
      width: 100%;
      text-align: center;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.25);
      animation: fadeIn 1.2s ease-out;
    }
    
    .message-title {
      font-size: 3rem;
      margin-bottom: 25px;
      color: #FFF8E7;
      font-weight: 700;
      text-shadow: 0 0 15px rgba(255, 177, 200, 0.8);
      font-family: 'Dancing Script', cursive;
    }
    
    .message-text {
      font-size: 1.3rem;
      margin-bottom: 35px;
      text-align: center;
      color: #FFF8E7;
      line-height: 1.7;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
    }
    
    .signature {
      font-style: italic;
      font-size: 1.4rem;
      margin-top: 35px;
      color: #FFB1C8;
      font-weight: 600;
      text-shadow: 0 0 8px rgba(255, 177, 200, 0.6);
    }
    
    .heart {
      color: #FFB1C8;
      font-size: 1.6rem;
      display: inline-block;
      animation: pulse 1.8s infinite;
    }
    
    .next-btn {
      background: linear-gradient(45deg, #FFB1C8, #D4A5FF);
      color: #2E1A47;
      border: none;
      padding: 15px 50px;
      border-radius: 50px;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      box-shadow: 0 5px 20px rgba(255, 177, 200, 0.4);
      margin-top: 25px;
    }
    
    .next-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 177, 200, 0.6);
    }
    
    /* One Question Feature */
    .question-page {
      display: none;
      position: relative;
      min-height: 100vh;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 30px;
      overflow: hidden;
    }
    
    .question-card {
      background: rgba(94, 59, 122, 0.35);
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      padding: 50px;
      max-width: 650px;
      width: 100%;
      text-align: center;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.25);
      animation: fadeIn 1.2s ease-out;
    }
    
    .question-title {
      font-size: 2.5rem;
      margin-bottom: 25px;
      color: #FFB1C8;
      font-weight: 700;
      text-shadow: 0 0 15px rgba(255, 177, 200, 0.8);
      font-family: 'Dancing Script', cursive;
    }
    
    .question-intro {
      margin-bottom: 25px;
      font-size: 1.2rem;
      color: #FFF8E7;
    }
    
    .question-choices {
      margin: 25px 0;
    }
    
    .question-btn {
      margin: 15px auto;
      padding: 15px 30px;
      font-size: 1.1rem;
      border: none;
      border-radius: 15px;
      background: linear-gradient(45deg, #D4A5FF, #E8D1FF);
      color: #2E1A47;
      cursor: pointer;
      transition: all 0.3s ease;
      display: block;
      width: 100%;
      max-width: 550px;
      box-shadow: 0 5px 20px rgba(255, 177, 200, 0.4);
    }
    
    .question-btn:hover {
      background: linear-gradient(45deg, #FFB1C8, #D4A5FF);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 177, 200, 0.6);
    }
    
    .question-answer {
      margin-top: 35px;
      font-size: 1.2rem;
      line-height: 1.7;
      display: none;
      color: #FFF8E7;
    }
    
    .question-display {
      font-weight: bold;
      margin-bottom: 20px;
      font-size: 1.3rem;
      color: #FFB1C8;
    }
    
    /* Balloons */
    .balloon {
      position: absolute;
      width: 70px;
      height: 90px;
      border-radius: 50%;
      animation: float linear infinite;
      z-index: 1;
      opacity: 0;
    }
    
    .balloon::after {
      content: "";
      position: absolute;
      bottom: -15px;
      left: 35px;
      width: 2px;
      height: 50px;
      background-color: rgba(255, 255, 255, 0.35);
    }
    
    /* Fireworks */
    .firework {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      animation: explode 1.2s ease-out infinite;
      z-index: 1;
      opacity: 0;
    }
    
    /* Confetti */
    .confetti {
      position: absolute;
      width: 12px;
      height: 12px;
      background-color: #FFB1C8;
      animation: confetti-fall linear infinite;
      z-index: 1;
      opacity: 0;
    }
    
    /* Animations */
    @keyframes float {
      to { transform: translateY(-100vh); }
    }
    
    @keyframes explode {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(25); opacity: 0; }
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(25px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.4); }
      100% { transform: scale(1); }
    }
    
    /* Quiz Game Styles */
    .quiz-page {
      display: none;
      position: relative;
      min-height: 100vh;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 30px;
      overflow: hidden;
    }
    
    .quiz-container {
      background: rgba(212, 165, 255, 0.25);
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      padding: 50px;
      max-width: 650px;
      width: 100%;
      text-align: center;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.25);
      animation: fadeIn 1.2s ease-out;
    }
    
    .quiz-h1, .quiz-h2, .quiz-h3 {
      color: #FFB1C8;
      margin-bottom: 25px;
      text-shadow: 0 0 15px rgba(255, 177, 200, 0.8);
      font-family: 'Dancing Script', cursive;
    }
    
    .quiz-h1 {
      font-size: clamp(1.8rem, 5vw, 2.5rem);
    }
    
    .quiz-h2 {
      font-size: 2rem;
    }
    
    .preference-card {
      margin-bottom: 35px;
      animation: fadeIn 0.6s ease-out;
    }
    
    .preference-question {
      font-size: clamp(1.2rem, 4vw, 1.6rem);
      margin-bottom: 25px;
      color: #FFF8E7;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
    }
    
    .quiz-options {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-bottom: 35px;
    }
    
    .quiz-option {
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid rgba(255, 255, 255, 0.35);
      border-radius: 15px;
      padding: 20px;
      min-width: 130px;
      flex: 1 1 45%;
      cursor: pointer;
      transition: all 0.3s;
      font-size: clamp(1.1rem, 3vw, 1.3rem);
      color: #FFF8E7;
    }
    
    .quiz-option:hover {
      transform: translateY(-6px);
      box-shadow: 0 6px 20px rgba(255, 177, 200, 0.6);
    }
    
    .quiz-option.selected {
      background: rgba(255, 177, 200, 0.6);
      color: #FFF8E7;
      border-color: #FFB1C8;
    }
    
    .quiz-option.correct {
      background: rgba(152, 251, 152, 0.6);
      border-color: #98FB98;
    }
    
    .quiz-option.incorrect {
      background: rgba(255, 105, 97, 0.6);
      border-color: #FF6961;
    }
    
    .quiz-btn {
      background: linear-gradient(45deg, #FFB1C8, #D4A5FF);
      color: #2E1A47;
      border: none;
      padding: 15px 35px;
      border-radius: 50px;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s;
      margin: 15px;
      font-weight: 600;
    }
    
    .quiz-btn:hover:not(:disabled) {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(255, 177, 200, 0.6);
    }
    
    .quiz-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }
    
    .progress-container {
      width: 100%;
      background-color: rgba(255, 255, 255, 0.25);
      border-radius: 15px;
      margin: 25px 0;
    }
    
    .progress-bar {
      height: 12px;
      border-radius: 15px;
      background: linear-gradient(45deg, #FFB1C8, #D4A5FF);
      transition: width 0.5s ease;
    }
    
    .progress-text {
      font-weight: bold;
      color: #FFF8E7;
      margin-bottom: 10px;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
    }
    
    .quiz-result-container {
      display: none;
    }
    
    .quiz-score {
      font-size: clamp(1.8rem, 5vw, 2.2rem);
      color: #FFB1C8;
      margin: 25px 0;
      text-shadow: 0 0 15px rgba(255, 177, 200, 0.8);
    }
    
    .quiz-feedback {
      font-size: clamp(1.1rem, 3vw, 1.3rem);
      line-height: 1.7;
      margin-bottom: 35px;
      color: #FFF8E7;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
    }
    
    .quiz-celebration {
      font-size: clamp(3.5rem, 10vw, 5.5rem);
      margin: 25px 0;
      animation: bounce 1.2s infinite alternate;
    }
    
    .quiz-emoji-option {
      font-size: clamp(1.8rem, 5vw, 2.2rem);
      margin-bottom: 15px;
    }
    
    .quiz-result-section {
      margin: 25px 0;
      padding: 20px;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 15px;
      text-align: left;
      color: #FFF8E7;
    }
    
    .quiz-result-title {
      font-size: clamp(1.2rem, 3vw, 1.4rem);
      color: #FFB1C8;
      margin-bottom: 15px;
    }
    
    .quiz-actual-answer {
      font-weight: bold;
      color: #FFB1C8;
      margin-top: 15px;
    }
    
    .quiz-user-choice {
      font-weight: bold;
    }
    
    .quiz-user-choice.correct {
      color: #98FB98;
    }
    
    .quiz-user-choice.incorrect {
      color: #FF6961;
    }
    
    .quiz-loading {
      display: inline-block;
      width: 24px;
      height: 24px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #FFF8E7;
      animation: spin 1.2s ease-in-out infinite;
    }
    
    @keyframes bounce {
      from { transform: translateY(0); }
      to { transform: translateY(-25px); }
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Form Page Styles */
    .form-page {
      display: none;
      position: relative;
      min-height: 100vh;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 30px;
      overflow: hidden;
    }
    
    .form-container {
      background: rgba(94, 59, 122, 0.35);
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      padding: 50px;
      max-width: 850px;
      width: 100%;
      text-align: center;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.25);
      animation: fadeIn 1.2s ease-out;
    }
    
    .form-title {
      font-size: 2.5rem;
      margin-bottom: 25px;
      color: #FFB1C8;
      font-weight: 700;
      text-shadow: 0 0 15px rgba(255, 177, 200, 0.8);
      font-family: 'Dancing Script', cursive;
    }
    
    .form-message {
      font-size: 1.3rem;
      margin-bottom: 35px;
      color: #FFF8E7;
      line-height: 1.7;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
    }
    
    .form-iframe {
      width: 100%;
      min-height: 550px;
      border: none;
      border-radius: 15px;
      margin: 25px 0;
      background: #fff;
    }
    
    .form-complete-message {
      display: none;
      font-size: 1.3rem;
      margin-top: 35px;
      color: #FFF8E7;
      line-height: 1.7;
    }
    
    /* Responsive Design */
    @media (max-width: 600px) {
      .birthday-title, .message-title, .form-title {
        font-size: 2.2rem;
      }
      
      .question-title {
        font-size: 1.8rem;
      }
      
      .age-number {
        font-size: 4rem;
      }
      
      .cake {
        font-size: 120px;
      }
      
      .birthday-content, .message-card, .question-card, .quiz-container, .form-container {
        padding: 25px;
        width: 95%;
      }
      
      .message-text, .question-answer, .form-message {
        font-size: 1.2rem;
      }
      
      .form-iframe {
        min-height: 450px;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Dancing Script:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Enchanted Garden Background -->
  <div class="garden-background"></div>
  
  <!-- Password Screen -->
  <div class="password-screen" id="passwordScreen">
    <h1>Minha's 19th Birthday</h1>
    <p>Enter the secret password to unlock the enchanted celebration</p>
    <input type="password" id="passwordInput" placeholder="Enter the magic word">
    <button onclick="checkPassword()">Unlock the Magic</button>
  </div>
  
  <!-- Birthday Animation Page -->
  <div class="birthday-page" id="birthdayPage">
    <div class="birthday-content">
      <h1 class="birthday-title">Happy Birthday, Minha!</h1>
      <div class="age-number">19</div>
      <div class="cake-container">
        <div class="cake" id="birthdayCake">üå∏üéÇ</div>
        <p class="instructions">Click to bloom the celebration! üå∫</p>
      </div>
    </div>
    
    <!-- Custom birthday song -->
    <audio id="birthdaySong" preload="auto">
      <source src="https://github.com/hamzakazmi26/birthday_music/raw/refs/heads/main/birthday_song.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>
  
  <!-- Birthday Message Page -->
  <div class="message-page" id="messagePage">
    <div class="message-card">
      <h1 class="message-title">üå∏ Happy 19th Birthday, Minha</h1>
      
      <div class="message-text">
        <p>Happy birthday to the one who makes me want to be a better version of myself,</p>
        <p>Happy birthday to the one who always knows how to make me laugh.</p>
        <br>
        <p>Tayyaba, you may not realize it, but you're one of the biggest reasons I'm trying to work harder, stay more focused, and take my future seriously.</p>
        <br>
        <p>On this special day, I pray that every dream of yours comes true.</p>
        <p>May this year bring you endless joy.</p>
        <p>May God bless you with the strength to face every challenge in life.</p>
        <p>May you receive everything your heart desires.</p>
        <p>May Allah bless you with endless happiness, and may your parents always be proud of you.</p>
      </div>
      
      <div class="signature">
        From the one who whispers your name in prayers,<br>
        Hamza Ali <span class="heart">üíñ</span>
      </div>
      
      <button class="next-btn" onclick="showQuestionPage()">Discover a Secret About Me</button>
    </div>
  </div>

  <!-- One Question Page -->
  <div class="question-page" id="questionPage">
    <div class="question-card">
      <h2 class="question-title">Your Magical Question üå∫</h2>
      <p class="question-intro" id="questionIntro">Choose one secret to reveal about me. The others will remain hidden forever.</p>
      
      <div class="question-choices" id="questionChoices">
        <button class="question-btn" onclick="revealQuestion('q1')">üåπ My guiding principle in life?</button>
        <button class="question-btn" onclick="revealQuestion('q2')">üåü A moment I‚Äôd relive from my past?</button>
        <button class="question-btn" onclick="revealQuestion('q3')">üïäÔ∏è My greatest life lesson?</button>
      </div>
      
      <div class="question-answer" id="questionAnswer">
        <p id="displayAnswer"></p>
      </div>
      <button class="next-btn" onclick="showQuizPage()">Take Our Enchanted Quiz</button>
      <button class="next-btn" onclick="showFormPage()">Share Your Thoughts</button>
    </div>
  </div>

  <!-- Quiz Page -->
  <div class="quiz-page" id="quizPage">
    <div class="quiz-container">
      <div id="quiz-intro">
        <h1 class="quiz-h1">Panda üêº & Minha's üå∏ Preferences Game</h1>
        <p class="quiz-feedback">Guess Panda's preferences first, then see how well Panda knows yours!</p>
        <button class="quiz-btn" id="quiz-startBtn">Begin the Magic</button>
      </div>
      
      <div id="quiz-his-game" style="display:none;">
        <div class="progress-text">Question <span id="quiz-his-question-number">1</span> of <span id="quiz-his-total-questions">10</span> (About Panda)</div>
        <div class="progress-container">
          <div class="progress-bar" id="quiz-his-progress-bar"></div>
        </div>
        <div class="preference-card">
          <h2 class="preference-question" id="quiz-his-question"></h2>
          <div class="quiz-options" id="quiz-his-options"></div>
        </div>
        <button class="quiz-btn" id="quiz-his-nextBtn" disabled>Next <span class="quiz-loading" style="display:none;"></span></button>
      </div>
      
      <div id="quiz-his-result" class="quiz-result-container">
        <div class="quiz-celebration">üêº</div>
        <h2 class="quiz-h2">Panda's Preferences Results</h2>
        <div class="quiz-score" id="quiz-his-score"></div>
        <div class="quiz-feedback" id="quiz-his-feedback"></div>
        
        <div id="quiz-his-answers-container"></div>
        
        <button class="quiz-btn" id="quiz-continueBtn">Continue the Journey</button>
      </div>
      
      <div id="quiz-her-game" style="display:none;">
        <div class="progress-text">Question <span id="quiz-her-question-number">1</span> of <span id="quiz-her-total-questions">10</span> (About Minha)</div>
        <div class="progress-container">
          <div class="progress-bar" id="quiz-her-progress-bar"></div>
        </div>
        <div class="preference-card">
          <h2 class="preference-question" id="quiz-her-question"></h2>
          <div class="quiz-options" id="quiz-her-options"></div>
        </div>
        <button class="quiz-btn" id="quiz-her-nextBtn" disabled>Next <span class="quiz-loading" style="display:none;"></span></button>
      </div>
      
      <div id="quiz-her-result" class="quiz-result-container">
        <div class="quiz-celebration">üå∏</div>
        <h2 class="quiz-h2">Minha's Preferences Results</h2>
        <div class="quiz-score" id="quiz-her-score"></div>
        <div class="quiz-feedback" id="quiz-her-feedback"></div>
        
        <div id="quiz-her-answers-container"></div>
        
        <button class="quiz-btn" id="quiz-restartBtn">Play Again</button>
        <button class="quiz-btn" id="quiz-formBtn">Share Your Thoughts</button>
      </div>
    </div>
  </div>

  <!-- Form Page -->
  <div class="form-page" id="formPage">
    <div class="form-container">
      <h1 class="form-title">Share Your Heart üå∏</h1>
      <p class="form-message">
        A few magical questions to capture your thoughts.<br>
      </p>
      
      <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdzKbj3w4v64_WKlsMrP9GqhwSZrbbg7VnF8tTBDv15oXZeNA/viewform?embedded=true" 
              class="form-iframe" 
              id="googleForm"
              frameborder="0" 
              marginheight="0" 
              marginwidth="0">
        Loading‚Ä¶
      </iframe>
      
      <p class="form-complete-message" id="formCompleteMessage">
        Thank you for sharing your thoughts! üå∫<br><br>
        This enchanted surprise was crafted for you by Panda üêº ‚Äî hope it bloomed a smile!<br><br>
        Forever by your side! üêºüíñ
      </p>
    </div>
  </div>

  <script>
    // Password Protection
    function checkPassword() {
      const passwords = ["minha22"];
      const input = document.getElementById('passwordInput').value.toLowerCase();
      
      if (passwords.includes(input)) {
        document.getElementById('passwordScreen').style.display = 'none';
        document.getElementById('birthdayPage').style.display = 'flex';
        createPetals();
      } else {
        alert("Oops! That's not the magic word. Try again!");
        document.getElementById('passwordInput').value = '';
      }
    }
    
    // Allow pressing Enter to submit password
    document.getElementById('passwordInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        checkPassword();
      }
    });
    
    // Cake Interaction
    const cake = document.getElementById('birthdayCake');
    const birthdaySong = document.getElementById('birthdaySong');
    
    cake.addEventListener('click', function() {
      // Start music
      birthdaySong.volume = 0.7;
      birthdaySong.play().catch(e => console.log("Audio play failed:", e));
      
      // Create balloons
      createBalloons();
      
      // Create fireworks
      createFireworks();
      
      // Create confetti
      createConfetti();
      
      // Create petals
      createPetals();
      
      // Make cake bigger
      cake.style.transform = 'scale(1.3)';
      cake.style.transition = 'transform 0.6s';
      
      // Change instruction text
      document.querySelector('.instructions').textContent = "Happy 19th, Minha! üå∏";
      
      // After 18 seconds, transition to message page
      setTimeout(() => {
        document.getElementById('birthdayPage').style.display = 'none';
        document.getElementById('messagePage').style.display = 'flex';
      }, 18000);
    });
    
    // Show question page
    function showQuestionPage() {
      document.getElementById('messagePage').style.display = 'none';
      document.getElementById('questionPage').style.display = 'flex';
      
      const saved = localStorage.getItem("chosen_question");
      if (saved && questionAnswers[saved]) {
        showQuestionAnswer(saved);
      }
    }
    
    // Show quiz page
    function showQuizPage() {
      document.getElementById('messagePage').style.display = 'none';
      document.getElementById('questionPage').style.display = 'none';
      document.getElementById('quizPage').style.display = 'flex';
      
      resetQuizGame();
    }
    
    // Show form page
    function showFormPage() {
      document.getElementById('quizPage').style.display = 'none';
      document.getElementById('messagePage').style.display = 'none';
      document.getElementById('questionPage').style.display = 'none';
      document.getElementById('formPage').style.display = 'flex';
      
      checkFormSubmission();
    }
    
    // Petal Creation
    function createPetals() {
      for (let i = 0; i < 100; i++) {
        setTimeout(() => {
          const petal = document.createElement('div');
          petal.className = 'petal';
          petal.style.left = Math.random() * 100 + 'vw';
          petal.style.top = '-20px';
          petal.style.animationDuration = Math.random() * 4 + 3 + 's';
          petal.style.animationDelay = Math.random() * 2 + 's';
          document.body.appendChild(petal);
          
          setTimeout(() => petal.remove(), 7000);
        }, i * 50);
      }
    }
    
    // Balloon Creation
    function createBalloons() {
      const colors = ['#FFB1C8', '#D4A5FF', '#E8D1FF', '#FFF8E7'];
      
      for (let i = 0; i < 30; i++) {
        setTimeout(() => {
          const balloon = document.createElement('div');
          balloon.className = 'balloon';
          balloon.style.left = Math.random() * 100 + 'vw';
          balloon.style.bottom = '-100px';
          balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          balloon.style.animationDuration = Math.random() * 12 + 12 + 's';
          balloon.style.animationDelay = Math.random() * 4 + 's';
          balloon.style.opacity = '0.9';
          document.body.appendChild(balloon);
          
          setTimeout(() => balloon.remove(), 16000);
        }, i * 400);
      }
    }
    
    // Firework Creation
    function createFireworks() {
      for (let i = 0; i < 35; i++) {
        setTimeout(() => {
          const firework = document.createElement('div');
          firework.className = 'firework';
          firework.style.left = Math.random() * 100 + 'vw';
          firework.style.top = Math.random() * 100 + 'vh';
          firework.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 60%)`;
          firework.style.animationDuration = Math.random() * 0.6 + 0.6 + 's';
          firework.style.opacity = '1';
          document.body.appendChild(firework);
          
          setTimeout(() => firework.remove(), 1200);
        }, i * 600);
      }
    }
    
    // Confetti Creation
    function createConfetti() {
      const colors = ['#FFB1C8', '#D4A5FF', '#E8D1FF', '#FFF8E7'];
      const shapes = ['circle', 'rectangle'];
      
      for (let i = 0; i < 250; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.top = '-20px';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.animationDuration = Math.random() * 4 + 3 + 's';
          confetti.style.animationDelay = Math.random() * 2 + 's';
          confetti.style.opacity = '0.9';
          
          const shape = shapes[Math.floor(Math.random() * shapes.length)];
          if (shape === 'circle') {
            confetti.style.borderRadius = '50%';
          } else {
            confetti.style.width = '8px';
            confetti.style.height = '16px';
          }
          
          document.body.appendChild(confetti);
          
          setTimeout(() => confetti.remove(), 6000);
        }, i * 25);
      }
    }
    
    // One Question Feature
    const questionAnswers = {
      q1: "Honesty is the most important principle in my life. I never tell lies, and I also expect the same honesty from others.",
      q2: "I would love to relive every moment in the past when my parents felt proud and happy because of me. It has happened a few times, like when I scored 1017 marks in my matric exams and when used to come first in early classes. But I feel like I haven't done anything yet that truly makes my parents proud. I want to achieve great things in the future, not just for my parents, but also for you",
      q3: "The biggest lesson I've learned so far is that a person learns more from experience than from advice."
    };

    const questionTexts = {
      q1: "My guiding principle in life?",
      q2: "A moment I‚Äôd relive from my past?",
      q3: "My greatest life lesson?"
    };

    function revealQuestion(key) {
      localStorage.setItem("chosen_question", key);
      showQuestionAnswer(key);
    }

    function showQuestionAnswer(key) {
      document.getElementById('questionChoices').style.display = 'none';
      document.getElementById('questionIntro').textContent = "You chose to reveal:";
      document.getElementById('displayAnswer').innerHTML = `<strong>${questionTexts[key]}</strong><br><br>${questionAnswers[key]}`;
      document.getElementById('questionAnswer').style.display = 'block';
    }
    
    // Quiz Game Feature
    const quizGameData = {
      panda: {
        name: "Panda",
        emoji: "üêº",
        preferences: [
          { 
            question: "Which do I prefer?",
            options: [
              { emoji: "‚òï", text: "Coffee" },
              { emoji: "üçµ", text: "Tea" }
            ],
            answer: 1
          },
          { 
            question: "Which pets do I prefer?",
            options: [
              { emoji: "üê∂", text: "Dogs" },
              { emoji: "üê±", text: "Cats" }
            ],
            answer: 0
          },
          { 
            question: "When am I more productive?",
            options: [
              { emoji: "üåû", text: "Morning" },
              { emoji: "üåô", text: "Night" }
            ],
            answer: 0
          },
          { 
            question: "Which social media do I prefer?",
            options: [
              { emoji: "üì∏", text: "Instagram" },
              { emoji: "üëª", text: "Snapchat" }
            ],
            answer: 0
          },
          { 
            question: "Which food do I prefer?",
            options: [
              { emoji: "üçï", text: "Pizza" },
              { emoji: "üçî", text: "Burgers" }
            ],
            answer: 1
          },
          { 
            question: "Which ice cream flavor do I prefer?",
            options: [
              { emoji: "üç´", text: "Chocolate" },
              { emoji: "üçì", text: "Strawberry" }
            ],
            answer: 0
          },
          { 
            question: "Which weather do I prefer?",
            options: [
              { emoji: "üåßÔ∏è", text: "Rain" },
              { emoji: "‚òÄÔ∏è", text: "Sun" }
            ],
            answer: 0
          },
          { 
            question: "Which season do I prefer?",
            options: [
              { emoji: "‚õÑ", text: "Winter" },
              { emoji: "üèñÔ∏è", text: "Summer" }
            ],
            answer: 1
          },
          { 
            question: "Which do I prefer to watch?",
            options: [
              { emoji: "üåÖ", text: "Sunrise" },
              { emoji: "üåá", text: "Sunset" }
            ],
            answer: 0
          },
          { 
            question: "Which vacation spot do I prefer?",
            options: [
              { emoji: "‚õ∞Ô∏è", text: "Mountains" },
              { emoji: "üèñÔ∏è", text: "Beach" }
            ],
            answer: 0
          }
        ]
      },
      minha: {
        name: "Minha",
        emoji: "üå∏",
        preferences: [
          { 
            question: "Which do you prefer?",
            options: [
              { emoji: "‚òï", text: "Coffee" },
              { emoji: "üçµ", text: "Tea" }
            ],
            answer: 1,
            pandaGuess: 1
          },
          { 
            question: "Which pets do you prefer?",
            options: [
              { emoji: "üê∂", text: "Dogs" },
              { emoji: "üê±", text: "Cats" }
            ],
            answer: 1,
            pandaGuess: 1
          },
          { 
            question: "When are you more productive?",
            options: [
              { emoji: "üåû", text: "Morning" },
              { emoji: "üåô", text: "Night" }
            ],
            answer: 1,
            pandaGuess: 1
          },
          { 
            question: "Which social media do you prefer?",
            options: [
              { emoji: "üì∏", text: "Instagram" },
              { emoji: "üëª", text: "Snapchat" }
            ],
            answer: 0,
            pandaGuess: 0
          },
          { 
            question: "Which food do you prefer?",
            options: [
              { emoji: "üçï", text: "Pizza" },
              { emoji: "üçî", text: "Burgers" }
            ],
            answer: 0,
            pandaGuess: 0
          },
          { 
            question: "Which ice cream flavor do you prefer?",
            options: [
              { emoji: "üç´", text: "Chocolate" },
              { emoji: "üçì", text: "Strawberry" }
            ],
            answer: 1,
            pandaGuess: 1
          },
          { 
            question: "Which weather do you prefer?",
            options: [
              { emoji: "üåßÔ∏è", text: "Rain" },
              { emoji: "‚òÄÔ∏è", text: "Sun" }
            ],
            answer: 0,
            pandaGuess: 0
          },
          { 
            question: "Which season do you prefer?",
            options: [
              { emoji: "‚õÑ", text: "Winter" },
              { emoji: "üèñÔ∏è", text: "Summer" }
            ],
            answer: 0,
            pandaGuess: 0
          },
          { 
            question: "Which do you prefer to watch?",
            options: [
              { emoji: "üåÖ", text: "Sunrise" },
              { emoji: "üåá", text: "Sunset" }
            ],
            answer: 1,
            pandaGuess: 1
          },
          { 
            question: "Which vacation spot do you prefer?",
            options: [
              { emoji: "‚õ∞Ô∏è", text: "Mountains" },
              { emoji: "üèñÔ∏è", text: "Beach" }
            ],
            answer: 0,
            pandaGuess: 0
          }
        ]
      }
    };

    const quizGameState = {
      currentPandaQuestion: 0,
      currentMinhaQuestion: 0,
      pandaScore: 0,
      minhaScore: 0,
      userPandaChoices: [],
      userMinhaChoices: [],
      gamePhase: 'intro'
    };

    const quizElements = {
      intro: document.getElementById('quiz-intro'),
      startBtn: document.getElementById('quiz-startBtn'),
      pandaGame: document.getElementById('quiz-his-game'),
      pandaQuestion: document.getElementById('quiz-his-question'),
      pandaOptions: document.getElementById('quiz-his-options'),
      pandaQuestionNumber: document.getElementById('quiz-his-question-number'),
      pandaTotalQuestions: document.getElementById('quiz-his-total-questions'),
      pandaProgressBar: document.getElementById('quiz-his-progress-bar'),
      pandaNextBtn: document.getElementById('quiz-his-nextBtn'),
      pandaResult: document.getElementById('quiz-his-result'),
      pandaScore: document.getElementById('quiz-his-score'),
      pandaFeedback: document.getElementById('quiz-his-feedback'),
      pandaAnswersContainer: document.getElementById('quiz-his-answers-container'),
      minhaGame: document.getElementById('quiz-her-game'),
      minhaQuestion: document.getElementById('quiz-her-question'),
      minhaOptions: document.getElementById('quiz-her-options'),
      minhaQuestionNumber: document.getElementById('quiz-her-question-number'),
      minhaTotalQuestions: document.getElementById('quiz-her-total-questions'),
      minhaProgressBar: document.getElementById('quiz-her-progress-bar'),
      minhaNextBtn: document.getElementById('quiz-her-nextBtn'),
      minhaResult: document.getElementById('quiz-her-result'),
      minhaScore: document.getElementById('quiz-her-score'),
      minhaFeedback: document.getElementById('quiz-her-feedback'),
      minhaAnswersContainer: document.getElementById('quiz-her-answers-container'),
      continueBtn: document.getElementById('quiz-continueBtn'),
      restartBtn: document.getElementById('quiz-restartBtn'),
      formBtn: document.getElementById('quiz-formBtn')
    };

    function initQuizGame() {
      quizElements.pandaTotalQuestions.textContent = quizGameData.panda.preferences.length;
      quizElements.minhaTotalQuestions.textContent = quizGameData.minha.preferences.length;
      
      quizElements.startBtn.addEventListener('click', startPandaQuizGame);
      quizElements.continueBtn.addEventListener('click', startMinhaQuizGame);
      quizElements.restartBtn.addEventListener('click', resetQuizGame);
      quizElements.formBtn.addEventListener('click', showFormPage);
      
      quizElements.pandaNextBtn.addEventListener('click', nextPandaQuizQuestion);
      quizElements.minhaNextBtn.addEventListener('click', nextMinhaQuizQuestion);
    }

    function startPandaQuizGame() {
      quizGameState.gamePhase = 'pandaGame';
      
      quizElements.intro.style.display = 'none';
      quizElements.pandaGame.style.display = 'block';
      quizGameState.currentPandaQuestion = 0;
      quizGameState.pandaScore = 0;
      quizGameState.userPandaChoices = [];
      
      showPandaQuizQuestion();
    }

    function showPandaQuizQuestion() {
      const question = quizGameData.panda.preferences[quizGameState.currentPandaQuestion];
      
      quizElements.pandaQuestion.textContent = question.question;
      quizElements.pandaQuestionNumber.textContent = quizGameState.currentPandaQuestion + 1;
      
      const progress = ((quizGameState.currentPandaQuestion) / quizGameData.panda.preferences.length) * 100;
      quizElements.pandaProgressBar.style.width = `${progress}%`;
      
      quizElements.pandaOptions.innerHTML = '';
      
      question.options.forEach((option, index) => {
        const optionEl = document.createElement('div');
        optionEl.className = 'quiz-option';
        optionEl.innerHTML = `
          <div class="quiz-emoji-option">${option.emoji}</div>
          <div>${option.text}</div>
        `;
        optionEl.addEventListener('click', () => selectPandaQuizOption(index));
        quizElements.pandaOptions.appendChild(optionEl);
      });
      
      quizElements.pandaNextBtn.disabled = true;
      quizElements.pandaNextBtn.querySelector('.quiz-loading').style.display = 'none';
    }

    function selectPandaQuizOption(index) {
      const options = quizElements.pandaOptions.querySelectorAll('.quiz-option');
      
      options.forEach(opt => {
        opt.classList.remove('selected', 'correct', 'incorrect');
      });
      
      options[index].classList.add('selected');
      
      quizGameState.userPandaChoices[quizGameState.currentPandaQuestion] = index;
      
      quizElements.pandaNextBtn.disabled = false;
    }

    function nextPandaQuizQuestion() {
      quizElements.pandaNextBtn.disabled = true;
      quizElements.pandaNextBtn.querySelector('.quiz-loading').style.display = 'inline-block';
      
      const currentQuestion = quizGameData.panda.preferences[quizGameState.currentPandaQuestion];
      const userChoice = quizGameState.userPandaChoices[quizGameState.currentPandaQuestion];
      
      const options = quizElements.pandaOptions.querySelectorAll('.quiz-option');
      options.forEach((opt, idx) => {
        if (idx === currentQuestion.answer) {
          opt.classList.add('correct');
        } else if (idx === userChoice && idx !== currentQuestion.answer) {
          opt.classList.add('incorrect');
        }
      });
      
      if (userChoice === currentQuestion.answer) {
        quizGameState.pandaScore++;
      }
      
      setTimeout(() => {
        quizGameState.currentPandaQuestion++;
        
        if (quizGameState.currentPandaQuestion < quizGameData.panda.preferences.length) {
          showPandaQuizQuestion();
        } else {
          showPandaQuizResults();
        }
      }, 1200);
    }

    function showPandaQuizResults() {
      quizGameState.gamePhase = 'pandaResults';
      
      quizElements.pandaGame.style.display = 'none';
      quizElements.pandaResult.style.display = 'block';
      
      const totalQuestions = quizGameData.panda.preferences.length;
      const percentage = totalQuestions > 0 
        ? Math.round((quizGameState.pandaScore / totalQuestions) * 100)
        : 0;
      
      quizElements.pandaScore.textContent = `You got ${quizGameState.pandaScore} out of ${totalQuestions} correct (${percentage}%)`;
      
      let feedback = '';
      if (percentage >= 90) {
        feedback = `Wow! You know ${quizGameData.panda.name} like a blooming flower! ${quizGameData.panda.emoji}`;
      } else if (percentage >= 70) {
        feedback = `Great job! You're blossoming in knowing ${quizGameData.panda.name}'s preferences!`;
      } else if (percentage >= 50) {
        feedback = `Not bad! You know some petals of ${quizGameData.panda.name}'s preferences, but there's more to bloom!`;
      } else {
        feedback = `Hmm... time to tend the garden of ${quizGameData.panda.name}'s preferences!`;
      }
      
      quizElements.pandaFeedback.textContent = feedback;
      
      quizElements.pandaAnswersContainer.innerHTML = `<h3>${quizGameData.panda.name}'s Enchanted Preferences:</h3>`;
      
      quizGameData.panda.preferences.forEach((q, i) => {
        const userChoice = quizGameState.userPandaChoices[i];
        const isCorrect = userChoice === q.answer;
        
        const div = document.createElement('div');
        div.className = 'quiz-result-section';
        div.innerHTML = `
          <p><strong>${q.question}</strong></p>
          <p>You chose: <span class="quiz-user-choice ${isCorrect ? 'correct' : 'incorrect'}">${q.options[userChoice].text}</span></p>
          <p class="quiz-actual-answer">Correct answer: ${q.options[q.answer].text}</p>
          <hr>
        `;
        quizElements.pandaAnswersContainer.appendChild(div);
      });
    }

    function startMinhaQuizGame() {
      quizGameState.gamePhase = 'minhaGame';
      
      quizElements.pandaResult.style.display = 'none';
      quizElements.minhaGame.style.display = 'block';
      quizGameState.currentMinhaQuestion = 0;
      quizGameState.minhaScore = 0;
      quizGameState.userMinhaChoices = [];
      
      showMinhaQuizQuestion();
    }

    function showMinhaQuizQuestion() {
      const question = quizGameData.minha.preferences[quizGameState.currentMinhaQuestion];
      
      quizElements.minhaQuestion.textContent = question.question;
      quizElements.minhaQuestionNumber.textContent = quizGameState.currentMinhaQuestion + 1;
      
      const progress = ((quizGameState.currentMinhaQuestion) / quizGameData.minha.preferences.length) * 100;
      quizElements.minhaProgressBar.style.width = `${progress}%`;
      
      quizElements.minhaOptions.innerHTML = '';
      
      question.options.forEach((option, index) => {
        const optionEl = document.createElement('div');
        optionEl.className = 'quiz-option';
        optionEl.innerHTML = `
          <div class="quiz-emoji-option">${option.emoji}</div>
          <div>${option.text}</div>
        `;
        optionEl.addEventListener('click', () => selectMinhaQuizOption(index));
        quizElements.minhaOptions.appendChild(optionEl);
      });
      
      quizElements.minhaNextBtn.disabled = true;
      quizElements.minhaNextBtn.querySelector('.quiz-loading').style.display = 'none';
    }

    function selectMinhaQuizOption(index) {
      const options = quizElements.minhaOptions.querySelectorAll('.quiz-option');
      
      options.forEach(opt => {
        opt.classList.remove('selected', 'correct', 'incorrect');
      });
      
      options[index].classList.add('selected');
      
      quizGameState.userMinhaChoices[quizGameState.currentMinhaQuestion] = index;
      
      quizElements.minhaNextBtn.disabled = false;
    }

    function nextMinhaQuizQuestion() {
      quizElements.minhaNextBtn.disabled = true;
      quizElements.minhaNextBtn.querySelector('.quiz-loading').style.display = 'inline-block';
      
      const currentQuestion = quizGameData.minha.preferences[quizGameState.currentMinhaQuestion];
      const userChoice = quizGameState.userMinhaChoices[quizGameState.currentMinhaQuestion];
      
      if (userChoice === currentQuestion.pandaGuess) {
        quizGameState.minhaScore++;
      }
      
      const options = quizElements.minhaOptions.querySelectorAll('.quiz-option');
      options.forEach((opt, idx) => {
        if (idx === currentQuestion.pandaGuess) {
          opt.classList.add('correct');
        }
        if (idx === userChoice && idx !== currentQuestion.pandaGuess) {
          opt.classList.add('incorrect');
        }
      });
      
      setTimeout(() => {
        quizGameState.currentMinhaQuestion++;
        
        if (quizGameState.currentMinhaQuestion < quizGameData.minha.preferences.length) {
          showMinhaQuizQuestion();
        } else {
          showMinhaQuizResults();
        }
      }, 1200);
    }

    function showMinhaQuizResults() {
      quizGameState.gamePhase = 'minhaResults';
      
      quizElements.minhaGame.style.display = 'none';
      quizElements.minhaResult.style.display = 'block';
      
      const totalQuestions = quizGameData.minha.preferences.length;
      const pandaCorrect = quizGameState.minhaScore;
      const percentage = totalQuestions > 0 
        ? Math.round((pandaCorrect / totalQuestions) * 100)
        : 0;
      
      quizElements.minhaScore.textContent = `${quizGameData.panda.name} got ${pandaCorrect} out of ${totalQuestions} correct (${percentage}%)`;
      
      let feedback = '';
      if (percentage >= 90) {
        feedback = `Magical! ${quizGameData.panda.name} knows you like a blooming garden! ${quizGameData.minha.emoji}`;
      } else if (percentage >= 70) {
        feedback = `Wonderful! ${quizGameData.panda.name} is blossoming in knowing your preferences!`;
      } else if (percentage >= 50) {
        feedback = `${quizGameData.panda.name} knows some petals of your preferences, but there‚Äôs more to bloom!`;
      } else {
        feedback = `${quizGameData.panda.name} needs to tend the garden of your preferences!`;
      }
      
      quizElements.minhaFeedback.textContent = feedback;
      
      quizElements.minhaAnswersContainer.innerHTML = `<h3>${quizGameData.minha.name}'s Preferences vs ${quizGameData.panda.name}'s Guesses:</h3>`;
      
      quizGameData.minha.preferences.forEach((q, i) => {
        const userChoice = quizGameState.userMinhaChoices[i];
        const pandaGuessCorrect = userChoice === q.pandaGuess;
        const actuallyCorrect = q.pandaGuess === q.answer;
        
        const div = document.createElement('div');
        div.className = 'quiz-result-section';
        div.innerHTML = `
          <p><strong>${q.question}</strong></p>
          <p>${quizGameData.panda.name} guessed: <span class="quiz-user-choice ${actuallyCorrect ? 'correct' : 'incorrect'}">${q.options[q.pandaGuess].text}</span></p>
          <p>You selected: ${q.options[userChoice].text}</p>
          <p class="quiz-actual-answer">Correct answer: ${q.options[q.answer].text}</p>
          <hr>
        `;
        quizElements.minhaAnswersContainer.appendChild(div);
      });
    }

    function resetQuizGame() {
      quizGameState.gamePhase = 'intro';
      
      quizElements.minhaResult.style.display = 'none';
      quizElements.intro.style.display = 'block';
      
      quizGameState.currentPandaQuestion = 0;
      quizGameState.currentMinhaQuestion = 0;
      quizGameState.pandaScore = 0;
      quizGameState.minhaScore = 0;
      quizGameState.userPandaChoices = [];
      quizGameState.userMinhaChoices = [];
    }

    function checkFormSubmission() {
      let formSubmitted = false;
      const formIframe = document.getElementById('googleForm');
      
      try {
        formIframe.onload = function() {
          if (!formSubmitted) {
            console.log("Form loaded or possibly submitted");
            setTimeout(() => {
              document.getElementById('formCompleteMessage').style.display = 'block';
              formSubmitted = true;
            }, 5000);
          }
        };
      } catch (e) {
        console.log("Couldn't detect form submission directly due to security restrictions");
      }
      
      setTimeout(() => {
        if (!formSubmitted) {
          document.getElementById('formCompleteMessage').style.display = 'block';
          formSubmitted = true;
        }
      }, 30000);
    }

    initQuizGame();
  </script>
</body>
</html>
